@model StormEkspress.Models.UIModel.HomePageDto
@{
    Layout = "~/Views/Shared/_Layout.cshtml";
    var breadcrumbs = ViewData["Breadcrumbs"] as List<Breadcrumb>;
    var pageTitle = ViewData["PageTitle"] as string;
}

@if (TempData["ErrorMessage"] != null)
{
    <script type="text/javascript">
        Swal.fire({
            icon: 'error',
            title: 'Hata',
            text: '@TempData["ErrorMessage"]'
        });
    </script>
}

@if (TempData["SuccessMessage"] != null)
{
    <script type="text/javascript">
        Swal.fire({
            icon: 'success',
            title: 'Başarılı',
            text: '@TempData["SuccessMessage"]'  // Türkçe karakterler burada da düzgün görünmeli.
        });
    </script>
}
<!-- Head Content -->
@section HeadContent {
    @foreach (var item in Model.Intro.Take(1))
    {
        <link rel="preload" href="@item.ImageUrl?width=1200&quality=70" as="image"
              imagesrcset="@item.ImageUrl?width=480&quality=70 480w,
                          @item.ImageUrl?width=768&quality=70 768w,
                          @item.ImageUrl?width=1200&quality=70 1200w"
              imagesizes="100vw">
    }
}

<!-- Optimized Header Carousel -->
<div class="container-fluid p-0 pb-5">
    <div class="owl-carousel header-carousel position-relative mb-5">
        @foreach (var (item, index) in Model.Intro.Select((item, index) => (item, index)))
        {
            <div class="owl-carousel-item position-relative">
                <picture>
                    <source type="image/webp"
                            srcset="@item.ImageUrl?width=1200&format=webp&quality=75 1200w,
                                    @item.ImageUrl?width=768&format=webp&quality=70 768w,
                                    @item.ImageUrl?width=480&format=webp&quality=65 480w"
                            sizes="(max-width: 480px) 100vw,
                                  (max-width: 768px) 100vw,
                                  100vw">
                    <img class="img-fluid"
                         src="@item.ImageUrl?width=1200&quality=70"
                         alt="@item.Title - @item.Subtitle"
                         width="1200"
                         height="675"
                         loading="@(index == 0 ? "eager" : "lazy")"
                         decoding="async"
                         fetchpriority="@(index == 0 ? "high" : "auto")"
                         style="aspect-ratio: 16/9; object-fit: cover;">
                </picture>
                <div class="position-absolute top-0 start-0 w-100 h-100 d-flex align-items-center" style="background: rgba(6, 3, 21, .5);">
                    <div class="container">
                        <div class="row justify-content-start">
                            <div class="col-10 col-lg-8">
                                <h2 class="custom-h1 text-white text-uppercase mb-3 animated slideInDown">@item.Title</h2>
                                <h1 class="custom-h2 display-3 text-white animated slideInDown mb-4">
                                    @Html.Raw(item.Subtitle)
                                </h1>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>


<!-- About Start -->
<div class="container-fluid overflow-hidden px-lg-0">
    <div class="container about px-lg-0">
        <div class="row g-5 mx-lg-0">
            <div class="col-lg-6 ps-lg-0 wow fadeInLeft" data-wow-delay="0.1s" style="min-height: 400px;">
                <div class="position-relative h-100">
                    <img class="position-absolute img-fluid"
                         src="@Model.About.MissionImageUrl?width=600&quality=75"
                         srcset="@Model.About.MissionImageUrl?width=600 600w,
                                 @Model.About.MissionImageUrl?width=800 800w,
                                 @Model.About.MissionImageUrl?width=1200 1200w"
                         sizes="(max-width: 576px) 90vw,
                                (max-width: 992px) 50vw,
                                600px"
                         alt="Karabük Kurye - @Model.About.MissionImageAlt"
                         width="600"
                         height="400"
                         loading="lazy"
                         decoding="async"
                         style="width:100%; height:100%; object-fit:contain; aspect-ratio: 600/400;">
                </div>
            </div>
            <div class="col-lg-6 about-text wow fadeInUp" data-wow-delay="0.3s">
                <h6 class="text-secondary text-uppercase mb-3">Hakkımızda</h6>
                <h1 class="mb-5">@Model.About.Mission</h1>
                <p class="mb-5">@Html.Raw(Model.About.MissionText)</p>
                <a class="btn-slide mt-2" href="@Url.Action("about")" aria-label="Hakkımızda detayları için @Model.About.Mission başlıklı sayfaya git">
                    <i class="fa fa-arrow-right"></i><span>Devamını oku</span>
                </a>
            </div>
        </div>
    </div>
</div>

<!-- About End -->
<!-- Service Start -->
<div class="container-xxl py-5">
    <div class="container py-5">
        <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
            <h6 class="text-secondary text-uppercase mb-3">Hizmetlerimiz</h6>
            <h1 class="mb-5">Hizmetlerimizi Keşfedin</h1>
        </div>
        <div class="row g-4" style="min-height: 400px;">
            @foreach (var item in Model.Services)
            {
                <div class="col-md-6 col-lg-4 wow fadeInUp" data-wow-delay="0.3s">
                    <div class="service-item p-4">
                        <div class="overflow-hidden mb-4">
                            <img class="img-fluid"
                                 src="@item.ImageUrl"
                                 alt="@item.Name"
                                 loading="lazy"
                                 width="360"
                                 height="359"
                                 srcset="@item.ImageUrl 1920w,
                             @item.ImageUrl.Replace(".webp", "-small.webp") 800w"
                                 sizes="(max-width: 600px) 800px, (max-width: 1024px) 1200px, 1920px">
                        </div>
                        <h4 class="mb-3">@item.Name</h4>
                        <p>@item.Description</p>
                        <a class="btn-slide mt-2" href="/hizmetlerimiz/@item.Slug">
                            <i class="fa fa-arrow-right"></i><span>Detaylar</span>
                        </a>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
<!-- Service End -->
<!-- Feature Start -->
<div class="container-fluid overflow-hidden py-5 px-lg-0">
    <div class="container feature py-5 px-lg-0">
        <div class="row g-5 mx-lg-0">
            <!-- Text Features Column -->
            <div class="col-lg-6 feature-text wow fadeInUp" data-wow-delay="0.1s">
                <h6 class="text-secondary text-uppercase mb-3">Yetkinliklerimiz</h6>
                <h1 class="mb-5">En Güçlü yanımız sizin talepleriniz bizim için çok önemli</h1>

                @foreach (var feature in Model.Features.Where(f => f.Type == "text"))
                {
                    <div class="d-flex mb-5 wow fadeInUp" data-wow-delay="@feature.WowDelay">
                        <i class="fa @feature.Icon text-primary fa-3x flex-shrink-0"></i>
                        <div class="ms-4">
                            <h5>@feature.H5</h5>
                            <p class="mb-0">@feature.P</p>
                        </div>
                    </div>
                }
            </div>

            <!-- Image Feature Column -->
            <div class="col-lg-6 ps-lg-0 wow fadeInRight" data-wow-delay="0.1s" style="min-height: 400px;">
                @{
                    var imageFeature = Model.Features.FirstOrDefault(f => f.Type == "image");
                    @if (imageFeature != null)
                    {
                        <div class="position-relative h-100">
                            <img class="position-absolute img-fluid h-100 w-100"
                                 src="@imageFeature.ImageUrl"
                                 srcset="@imageFeature.ImageUrl?width=928 928w,
                                     @imageFeature.ImageUrl?width=768 768w,
                                     @imageFeature.ImageUrl?width=480 480w"
                                 sizes="(max-width: 576px) 100vw, (max-width: 992px) 50vw, 928px"
                                 style="object-fit: contain;"
                                 alt="@imageFeature.ImageAlt"
                                 width="928"
                                 height="491"
                                 loading="lazy"
                                 decoding="async">
                        </div>
                    }
                }
            </div>
        </div>
    </div>
</div>
<!-- Feature End -->
<!-- Quote Start -->
<div class="container-xxl py-5">
    <div class="container py-5">
        <div class="row g-5 align-items-center">
            <div class="col-lg-5 wow fadeInUp" data-wow-delay="0.1s">
                <h6 class="text-secondary text-uppercase mb-3">@Model.FormInfos.FormContact</h6>
                <h1 class="mb-5">@Model.FormInfos.FormContactTitle</h1>
                <p class="mb-5">@Model.FormInfos.FormContactDescription</p>
            </div>
            <div class="col-lg-7 px-0 px-md-3">
                <!-- Mobilde padding'i sıfırladık -->
                <div class="bg-light text-center p-4 p-md-5 wow fadeIn mx-auto mw-md-80"
                     data-wow-delay="0.5s"
                     style="max-width: 95%;">
                    <!-- Mobil için max-width eklendi -->
                    <div class="row g-3 g-md-4 justify-content-center">
                        <!-- İçerik ortalandı -->
                        <!-- Kurye Başvuru Butonu -->
                        <div class="col-12 col-md-6 mb-2 mb-md-0">
                            <a href="@Url.Action("courierApplicationForm")"
                               class="btn btn-custom btn-custom-1 w-100 h-100 p-3 p-md-4 d-flex flex-column justify-content-center"
                               role="button"
                               aria-label="Kurye başvuru formunu aç">
                                <h3 style="color:white" class="mb-1 mb-md-2">Kurye Başvuru</h3>
                            </a>
                        </div>

                        <!-- Restoran Başvuru Butonu -->
                        <div class="col-12 col-md-6">
                            <a href="@Url.Action("restaurantApplicationForm")"
                               class="btn btn-custom btn-custom-2 w-100 h-100 p-3 p-md-4 d-flex flex-column justify-content-center"
                               role="button"
                               aria-label="Restoran başvuru formunu aç">
                                <h3 style="color:white" class="mb-1 mb-md-2">Restoran Başvuru</h3>
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Quote End -->
<!-- Team Start -->
<div class="container-xxl py-5">
    <div class="container py-5">
        <div class="text-center wow fadeInUp" data-wow-delay="0.1s">
            <h6 class="text-secondary text-uppercase mb-3">Takımımız</h6>
            <h1 class="mb-5">Kuryelerimiz</h1>
        </div>
        <div class="row g-4">
            @foreach (var member in Model.TeamMembers)
            {
                <div class="col-lg-3 col-md-6 wow fadeInUp" data-wow-delay="@($"{0.3 + 0.2 * Model.TeamMembers.IndexOf(member)}s")">
                    <div class="team-item p-4">
                        <div class="overflow-hidden mb-4" style="aspect-ratio: 928/491;">
                            <img class="img-fluid"
                                 src="@member.ImageUrl?width=400&quality=75"
                                 srcset="@member.ImageUrl?width=400 400w,
                                 @member.ImageUrl?width=600 600w,
                                 @member.ImageUrl?width=928 928w"
                                 sizes="(max-width: 576px) 400px,
                                (max-width: 768px) 600px,
                                928px"
                                 alt="Karabük Kurye Ekibi Üyesi @member.Name - @member.Title"
                                 width="928"
                                 height="491"
                                 loading="lazy"
                                 decoding="async"
                                 style="object-fit: cover;">
                        </div>
                        <h5 class="mb-0">@member.Name</h5>
                        <p>@member.Title</p>
                    </div>
                </div>
            }
        </div>
    </div>
</div>
<!-- Team End -->
<!-- Testimonial Start -->
<div class="container-xxl py-5 wow fadeInUp" data-wow-delay="0.1s">
    <div class="container py-5">
        <div class="text-center">
            <h6 class="text-secondary text-uppercase mb-3">Referenslarımız</h6>
            <h1 class="mb-0">Hizmet verdiğimiz mutlu müşterilerimiz</h1>
        </div>
        <div class="owl-carousel testimonial-carousel wow fadeInUp" data-wow-delay="0.1s" itemscope itemtype="http://schema.org/ImageGallery">
            @foreach (var item in Model.References)
            {
                <div class="testimonial-item p-4 my-5" itemprop="image" itemscope itemtype="http://schema.org/ImageObject">
                    <i class="fa fa-quote-right fa-3x text-light position-absolute top-0 end-0 mt-n3 me-4"></i>
                    <div class="d-flex align-items-end mb-4">
                        <img class="img-fluid flex-shrink-0"
                             width="465"
                             height="536"
                             alt="@item.Name - Karabük Kurye Referans Görseli"
                             src="@item.ImageUrl?width=10&quality=20"
                             data-src="@item.ImageUrl"
                             loading="lazy"
                             decoding="async"
                             itemprop="contentUrl"
                             aria-label="@item.Name referans görseli"
                             srcset="@item.ImageUrl?width=465 465w,
                             @item.ImageUrl?width=768 768w,
                             @item.ImageUrl?width=992 992w"
                             sizes="(max-width: 576px) 90vw,
                            (max-width: 992px) 50vw,
                            465px"
                             style="background: #f5f5f5; transition: opacity 0.3s;"
                             onload="this.style.opacity=1">
                    </div>
                    <meta itemprop="description" content="Karabük Kurye @item.Name referans çalışması">
                    <meta itemprop="name" content="@item.Name">
                </div>
            }
        </div>
        <noscript>
            <style>
                .testimonial-carousel img {
                    opacity: 1 !important;
                }
            </style>
        </noscript>
    </div>
</div>
<!-- Testimonial End -->
@section Scripts
{
}
